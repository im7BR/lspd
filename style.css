:root {
  /* Dark Theme Variables (Default) */
  --bg: #0b1220;
  --card: #0f1724;
  --card-rgb: 15, 23, 36;
  --accent: #0ea5ff; /* Blue */
  --accent-text: #002233; /* Dark blue for text on accent bg */
  --danger: #ff5555; /* Red */
  --danger-text: #330000; /* Dark red for text on danger bg */
  --text: #e6eef6; /* Light text */
  --muted: #94a3b8; /* Grayish text */
  --border: rgba(255, 255, 255, 0.04);
  --shadow: rgba(2, 6, 23, 0.6);
  --gradient-start: #071028;
  --gradient-end: #081426;
  --result-bg-start: rgba(255, 255, 255, 0.02);
  --result-bg-end: transparent;
  --notfound-text: #ffb4b4;
  --input-bg: transparent;
  --button-shadow: rgba(0,0,0,0.2);
  --button-hover-shadow: rgba(0,0,0,0.3);
  color-scheme: dark;
}

/* Light Theme Variables */
.light-theme {
  --bg: #f1f5f9;
  --card: #ffffff;
  --card-rgb: 255, 255, 255;
  --accent: #0ea5ff;
  --accent-text: #ffffff; /* White text on accent */
  --danger: #ef4444;
  --danger-text: #ffffff; /* White text on danger */
  --text: #1e293b;
  --muted: #64748b;
  --border: rgba(0, 0, 0, 0.1);
  --shadow: rgba(100, 116, 139, 0.2);
  --gradient-start: #e2e8f0;
  --gradient-end: #f1f5f9;
  --result-bg-start: rgba(0, 0, 0, 0.02);
  --result-bg-end: transparent;
  --notfound-text: #ef4444;
  --input-bg: #f8fafc;
  --button-shadow: rgba(100, 116, 139, 0.2);
  --button-hover-shadow: rgba(100, 116, 139, 0.3);
  color-scheme: light;
}

/* --- Base & General Styles --- */
*, *::before, *::after { box-sizing: border-box; }

body {
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, 'Helvetica Neue', Arial;
  margin: 0;
  padding: 0;
  padding-top: 80px; /* Space for fixed top buttons */
  background: linear-gradient(180deg, var(--gradient-start) 0%, var(--gradient-end) 100%);
  color: var(--text);
  min-height: 100vh;
  transition: background-color 0.3s ease, color 0.3s ease;
  overflow-x: hidden;
}

.container {
  max-width: 780px;
  margin: 0 auto;
  padding: 0 28px 28px 28px;
  position: relative;
  z-index: 1;
}

h1, h2, h3, p, p.lead, code, .hint, .small, .meta { transition: color 0.3s ease; }
h1 { font-size: 20px; margin: 0 0 8px; }
h2 { font-size: 18px; margin-bottom: 10px; }
h3 { font-size: 16px; margin-bottom: 10px; }
p { margin-top: 0; margin-bottom: 10px; line-height: 1.6; }
p.lead { margin: 0 0 20px; color: var(--muted); }
code { background: rgba(125,125,125,0.1); padding: 2px 5px; border-radius: 4px; font-size: 0.9em;}

.card {
  background: var(--card); border-radius: 12px; padding: 18px;
  box-shadow: 0 6px 24px var(--shadow);
  transition: background-color 0.3s ease, box-shadow 0.3s ease;
  margin-bottom: 30px;
}
.card:first-of-type { margin-top: 0; }


.row { display: flex; gap: 8px; align-items: center; }
input[type=text], textarea {
  flex: 1; padding: 10px 12px; border-radius: 8px; border: 1px solid var(--border);
  background: var(--input-bg); color: var(--text); font-size: 16px;
  transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}
textarea { width: 100%; font-size: 15px; font-family: inherit; resize: none; min-height: 60px; }

/* --- Button Styles --- */
button {
  padding: 10px 14px;
  border-radius: 8px;
  border: none;
  background-image: linear-gradient(90deg, var(--accent), #3b82f6);
  background-color: var(--accent);
  color: var(--accent-text);
  cursor: pointer;
  font-weight: 600;
  transition: all 0.2s ease-out;
  box-shadow: 0 2px 4px var(--button-shadow);
}
button#endDutyBtn {
  background-image: linear-gradient(90deg, var(--danger), #f63b3b);
  background-color: var(--danger);
  color: var(--danger-text);
}
#stopTimerBtn {
    background-image: linear-gradient(90deg, #6b7280, #4b5563);
    background-color: #6b7280;
    color: white;
}
button:hover:not(:disabled) {
  transform: translateY(-2px);
  filter: brightness(1.1);
  box-shadow: 0 4px 12px var(--button-hover-shadow);
}
button:active:not(:disabled) {
  transform: translateY(0px) scale(0.98);
  filter: brightness(0.95);
  box-shadow: 0 1px 2px var(--button-shadow);
}
button:disabled {
  opacity: .5; cursor: not-allowed; transform: none; filter: none; box-shadow: none;
  background-image: none;
  background-color: var(--muted);
  color: var(--text);
}

/* --- Other Component Styles --- */
.result { margin-top: 16px; padding: 14px; border-radius: 10px; background: linear-gradient(180deg, var(--result-bg-start), var(--result-bg-end)); display: flex; align-items: center; gap: 14px; transition: background-color 0.3s ease; }
.stars { font-size: 28px; }
.meta { color: var(--muted); font-size: 14px; }
.small { font-size: 13px; color: var(--muted); line-height: 1.5; }
.hint { margin-top: 10px; color: var(--muted); }
.notfound { color: var(--notfound-text); }
footer { margin-top: 30px; margin-bottom: 20px; color: var(--muted); font-size: 13px; text-align: center; }
.copy-btn { margin-left: 10px; padding: 4px 8px; border-radius: 6px; background: var(--accent); color: var(--accent-text); font-weight: 600; border: none; cursor: pointer; transition: all 0.2s ease-out; flex-shrink: 0; }
.copy-btn:hover { transform: scale(1.05); filter: brightness(1.1); }
.copy-btn:active { transform: scale(0.95); filter: brightness(0.9); }

/* Animation */
@keyframes fadeInDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
.smooth-show { animation: fadeInDown 0.3s ease-out forwards; }


/* --- Fixed Top Buttons --- */
#homeBtn, #menuToggleBtn, #themeToggleBtn {
  position: fixed; top: 20px; z-index: 1010;
  padding: 8px; background: var(--card); border: 1px solid var(--border); color: var(--muted);
  display: flex; align-items: center; justify-content: center;
  transition: all 0.2s ease-out;
}
#homeBtn { left: 20px; }
#themeToggleBtn { left: 80px; }
#menuToggleBtn { right: 20px; padding: 6px 10px; font-size: 20px; line-height: 1; }
#homeBtn svg, #themeToggleBtn svg { width: 20px; height: 20px; stroke: var(--muted); transition: stroke 0.3s ease; }
#homeBtn:hover, #themeToggleBtn:hover, #menuToggleBtn:hover { transform: translateY(-2px); filter: brightness(1.1); box-shadow: 0 4px 12px var(--button-hover-shadow); color: var(--accent);}
#homeBtn:hover svg, #themeToggleBtn:hover svg { stroke: var(--accent); }
#homeBtn:active, #themeToggleBtn:active, #menuToggleBtn:active { transform: translateY(0px) scale(0.98); filter: brightness(0.95); box-shadow: 0 1px 2px var(--button-shadow); }
.icon-moon { display: none; }
.light-theme .icon-sun { display: none; }
.light-theme .icon-moon { display: block; }

/* --- Tab Content --- */
.tab-content { display: none; padding-bottom: 20px; }
.tab-content.active { display: block; animation: fadeInDown 0.3s ease-out; }

/* --- Wizard Styles --- */
.step-title { margin-bottom: 10px; font-size: 18px; color: var(--accent); }
.wizard-step { display: none; animation: fadeInDown 0.4s ease-out; }
.wizard-step.active { display: block; }
#towingWizardNav button, #fineWizardNav button { width: 140px; }

/* --- Slide Menu Styles --- */
#menuOverlay { position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 1001; opacity: 0; transition: opacity 0.3s ease-in-out; pointer-events: none; }
#menuOverlay.menu-open { opacity: 1; pointer-events: auto; }
#slideMenu {
  position: fixed; top: 0; right: 0; bottom: 0;
  width: 280px; background: #0d1625; z-index: 1002;
  transform: translateX(100%); transition: transform 0.3s ease-in-out, background-color 0.3s ease;
  padding: 20px; padding-top: 70px; box-shadow: -10px 0 30px rgba(0,0,0,0.3);
  display: flex; flex-direction: column; gap: 12px; overflow-y: auto;
}
.light-theme #slideMenu { background: #e2e8f0; box-shadow: -10px 0 30px rgba(100, 116, 139, 0.2); }
#slideMenu.menu-open { transform: translateX(0); }
#closeMenuBtn { position: absolute; top: 20px; right: 20px; z-index: 1003; font-size: 24px; background: transparent; border: none; color: var(--muted); padding: 5px; line-height: 1; transition: color 0.3s ease; }
#closeMenuBtn:hover { color: var(--accent); transform: none; filter: none; box-shadow: none; }
.menu-btn {
  width: 100%; text-align: left; padding: 12px 15px; background: var(--card);
  border: 1px solid var(--border); color: var(--muted);
  transition: all 0.2s ease-out;
}
.menu-btn:hover:not(:disabled) { transform: translateY(-2px); filter: brightness(1.1); box-shadow: 0 4px 12px var(--button-hover-shadow); color: var(--text); border-color: var(--accent); }
.light-theme .menu-btn:hover:not(:disabled) { color: var(--accent); }
.menu-btn:active:not(:disabled) { transform: translateY(0px) scale(0.98); filter: brightness(0.95); box-shadow: 0 1px 2px var(--button-shadow); }

/* --- Settings Tab --- */
#settingsTab label { cursor: pointer; display: flex; align-items: center; }
#settingsTab input[type="radio"] { margin-right: 8px; }

/* --- Shift Timer --- */
#shiftTimerDisplay { color: var(--text); letter-spacing: 1px; font-size: 20px; font-weight: 600; font-family: monospace; flex: 1; }

/* --- About Tab --- */
#aboutBackground { position: fixed; inset: 0; background-image: url('about-background.jpg'); background-size: cover; background-position: center center; z-index: 1; }
#aboutBackground::before { content: ''; position: absolute; inset: 0; background-color: rgba(11, 18, 32, 0.75); z-index: 2; transition: background-color 0.3s ease; }
.light-theme #aboutBackground::before { background-color: rgba(255, 255, 255, 0.6); }
#aboutTab .container.about-content { position: relative; z-index: 3; padding-top: 28px; color: #e6eef6; }
.light-theme #aboutTab .container.about-content { color: #1e293b; }
#aboutTab .container.about-content h1 { color: #e6eef6; }
.light-theme #aboutTab .container.about-content h1 { color: #1e293b; }
#aboutTab .card { background: rgba(var(--card-rgb), 0.85); backdrop-filter: blur(5px); }

